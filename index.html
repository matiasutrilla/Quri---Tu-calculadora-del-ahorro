<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Quri â€” tu calculadora de ahorro</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#e4ebff;           /* texto principal */
  --muted:#93a3af;         /* texto secundario */
  --bg:#0f172a;            /* fondo total */
  --card:#111827;          /* paneles */
  --stroke:#1f2937;        /* bordes */
  --accent:#f5bf3c;        /* dorado */
  --accent-ink:#1f2937;
  --brand:#38bdf8;         /* azulito indicadores */
  --ok:#16a34a;            /* CTA verde */
  --danger:#ef4444;        /* botÃ³n PDF rojo */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:radial-gradient(1000px 800px at 15% -10%, rgba(245,191,60,0.08), transparent 50%),
             radial-gradient(1200px 900px at 120% 10%, rgba(56,189,248,0.10), transparent 55%),
             var(--bg);
  color:var(--ink);
}

.wrapper{max-width:1200px;margin:0 auto;padding:20px}
.header{
  display:flex;gap:12px;align-items:center;margin:6px 0 8px 0
}
.header img{height:24px}
.header .title{font-weight:700}
.header .tagline{font-size:12px;color:var(--muted)}

.hr{height:3px;background:linear-gradient(90deg,var(--accent),transparent);margin:8px 0 18px;border-radius:3px}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
@media (max-width:980px){
  .grid{grid-template-columns:1fr}
}

.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:14px;
  padding:18px;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
}

/* Inputs */
.label{font-size:13px;color:var(--muted);margin-bottom:6px}
.input{
  width:100%;background:#0b1220;border:1px solid var(--stroke);color:var(--ink);
  height:42px;border-radius:10px;padding:0 12px;font-size:14px;outline:none;
}
.input::placeholder{color:#64748b}
.row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
@media (max-width:640px){ .row{grid-template-columns:1fr} }

/* Productos */
.products{display:flex;flex-direction:column;gap:12px;margin-top:10px}
.prod{
  position:relative;display:flex;gap:12px;align-items:center;
  padding:12px 14px;border:1px solid var(--stroke);border-radius:12px;cursor:pointer;
  transition:all .15s ease;background:#0b1220;
}
.prod:hover{border-color:#2a3647}
.prod.active{border-color:var(--accent);box-shadow:0 0 0 3px rgba(245,191,60,.15)}
.prod img{width:52px;height:52px;object-fit:contain;flex:0 0 52px}
.prod .name{font-weight:700}
.prod .meta{font-size:13px;color:var(--muted)}
.ribbon{
  position:absolute;top:10px;right:12px;
  background:var(--accent);color:var(--accent-ink);font-weight:800;font-size:12px;
  padding:6px 10px;border-radius:999px;box-shadow:inset 0 -2px 0 rgba(0,0,0,.12);
}
@media (max-width:420px){
  .prod img{width:46px;height:46px}
  .ribbon{font-size:11px;padding:5px 8px;top:8px;right:10px}
}

/* Resultados */
.kpi{display:flex;flex-direction:column;gap:10px}
.kpi .pill{
  background:#1a2436;border:1px solid var(--stroke);border-radius:12px;padding:14px;
}
.big{
  background:linear-gradient(180deg,#1a2436 0%, #131b2b 100%);
  border:1px solid var(--stroke);border-radius:12px;padding:18px;
}
.big .amount{font-size:36px;font-weight:800}
.big small{color:var(--muted)}
.badge{
  display:inline-flex;align-items:center;gap:8px;background:rgba(245,191,60,.12);
  border:1px solid rgba(245,191,60,.35);color:#ffe8a3;border-radius:12px;padding:12px 14px;
  font-weight:600;margin-bottom:12px;box-shadow:0 10px 22px rgba(245,191,60,.07);
}
.badge .dot{width:8px;height:8px;background:var(--accent);border-radius:50%}

/* Plan de lealtad destacado */
.loyalty{
  background:linear-gradient(180deg,rgba(245,191,60,.10),rgba(245,191,60,.05));
  border:1px solid rgba(245,191,60,.50);
  border-radius:14px;padding:14px 16px;margin-bottom:14px;
  box-shadow:0 12px 28px rgba(245,191,60,.10);
}

/* Botones */
.actions{display:flex;gap:12px;margin-top:14px}
.btn{
  border:none;height:42px;border-radius:10px;font-weight:700;
  padding:0 16px;cursor:pointer;font-size:14px
}
.btn.pdf{background:var(--danger);color:white}
.btn.clear{background:#374151;color:#e5e7eb}
.btn.cta{background:var(--ok);color:white}

/* print only right panel */
@media print{
  body{background:white}
  .wrapper{max-width:900px}
  .grid{grid-template-columns:1fr}
  .left{display:none}
  .actions{display:none}
}
</style>
</head>
<body>
  <div class="wrapper">
    <div class="header">
      <img src="images/alicorp.png" alt="Alicorp logo" />
      <div>
        <div class="title">Quri â€” tu calculadora de ahorro</div>
        <div class="tagline">Buscando el dorado perfecto que rinde mÃ¡s</div>
      </div>
    </div>

    <div class="hr"></div>

    <div class="grid">
      <!-- Columna izquierda -->
      <div class="card left">
        <div style="font-weight:800;margin-bottom:10px">Tu consumo de aceite hoy</div>

        <div class="row">
          <div>
            <div class="label">Precio por balde (S/)</div>
            <input id="precioActual" class="input" type="number" step="0.01" placeholder="Ej. 124">
          </div>
          <div>
            <div class="label">Litros por balde (L)</div>
            <input id="litrosActual" class="input" type="number" step="0.01" value="18">
          </div>
        </div>

        <div class="row" style="margin-top:10px">
          <div>
            <div class="label">Baldes por semana</div>
            <input id="baldesSemana" class="input" type="number" step="0.1" placeholder="Ej. 3">
          </div>
          <div>
            <div class="label">NÃºmero de locales</div>
            <input id="locales" class="input" type="number" step="1" placeholder="Ej. 1">
          </div>
        </div>

        <div style="height:12px"></div>
        <div style="font-weight:800;margin:4px 0 6px">Elige tu aceite especializado</div>

        <div class="products" id="productos">
          <!-- Crisol -->
          <div class="prod active" data-precio="160" data-litros="20" data-uplift="0.5" data-id="crisol">
            <img src="images/crisol.png" alt="Crisol Fritura Intensa">
            <div>
              <div class="name">Crisol Fritura Intensa</div>
              <div class="meta">S/ 160 Â· 20 L Â· Excelencia en frituras</div>
            </div>
            <div class="ribbon">+50% rendimiento</div>
          </div>
          <!-- Tondero -->
          <div class="prod" data-precio="130" data-litros="20" data-uplift="0.3" data-id="tondero">
            <img src="images/tondero.png" alt="Tondero Premium Fritura Intensa">
            <div>
              <div class="name">Tondero Premium Fritura Intensa</div>
              <div class="meta">S/ 130 Â· 20 L Â· Rendimiento confiable</div>
            </div>
            <div class="ribbon">+30% rendimiento</div>
          </div>
          <!-- Friol -->
          <div class="prod" data-precio="135" data-litros="18" data-uplift="0" data-id="friol">
            <img src="images/friol.png" alt="Friol Ultra">
            <div>
              <div class="name">Friol Ultra <span style="color:#93a3af">(no especializado)</span></div>
              <div class="meta">S/ 135 Â· 18 L</div>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top:14px">
          <div>
            <div class="label">Precio por balde â€” seleccionado (S/)</div>
            <input id="precioSel" class="input" type="number" step="0.01" value="160">
          </div>
          <div>
            <div class="label">Periodo de anÃ¡lisis</div>
            <select id="periodo" class="input">
              <option value="mes">Por mes</option>
              <option value="semana">Por semana</option>
              <option value="anio">Por aÃ±o</option>
            </select>
          </div>
        </div>

        <div class="actions">
          <button class="btn pdf" id="btnPdf">Guardar resultados (PDF)</button>
          <button class="btn clear" id="btnClear">Limpiar datos</button>
        </div>
      </div>

      <!-- Columna derecha -->
      <div class="card right" id="panelResultados">
        <div style="font-weight:800;margin-bottom:10px">Resultado de tu transformaciÃ³n</div>

        <!-- Lealtad -->
        <div id="lealtad" class="loyalty" style="display:none">
          <div style="font-weight:800;margin-bottom:6px">ðŸ”¥ Crisol â€” Plan de lealtad</div>
          <div class="meta" id="txtLealtad">Acumulas 0 puntos (1 punto por cada S/10 gastados en Crisol Fritura Intensa).</div>
        </div>

        <!-- Ahorro -->
        <div class="big" style="margin-bottom:12px">
          <div class="badge"><span class="dot"></span> Ahorro estimado</div>
          <div class="amount" id="ahorro">S/ 0.00</div>
          <small id="notaBaldes" class="meta">â€”</small>
        </div>

        <div class="kpi">
          <div class="pill">
            <div class="meta" id="lblGastoActual">Gasto actual (mes)</div>
            <div style="font-size:22px;font-weight:800" id="gastoActual">S/ 0.00</div>
          </div>
          <div class="pill">
            <div class="meta" id="lblGastoSel">Gasto con aceite especializado (mes)</div>
            <div style="font-size:22px;font-weight:800" id="gastoSel">S/ 0.00</div>
          </div>
          <div class="pill">
            <div class="meta">Progreso de ahorro</div>
            <div id="progreso" style="font-weight:700">Ahorro del 0% vs. situaciÃ³n actual</div>
          </div>
          <div class="pill">
            <div class="meta">Â¿Hasta cuÃ¡nto podrÃ­as pagar por balde sin gastar mÃ¡s?</div>
            <div style="font-size:20px;font-weight:800" id="topePrecio">S/ â€”</div>
            <div class="meta">Precio mÃ¡ximo por balde del aceite seleccionado.</div>
          </div>
        </div>

        <div class="card" style="margin-top:14px;background:#0f1a11;border-color:#134e17">
          <div style="font-weight:800;margin-bottom:8px">Â¿Quieres comprobar este rendimiento en tu cocina? ðŸš€</div>
          <div class="input" style="display:flex;align-items:center;height:40px;max-width:360px;margin-bottom:10px;background:#052e12;border-color:#1f6c2a">
            asesoriatecnica@alicorp.com.pe
          </div>
          <button class="btn cta">Quiero recibir asesorÃ­a tÃ©cnica</button>
        </div>

      </div>
    </div>
  </div>

<script>
const fmtSoles = v => (isFinite(v) ? ('S/ ' + Number(v).toLocaleString('es-PE',{minimumFractionDigits:2,maximumFractionDigits:2})) : 'S/ â€”');
const fmtPct0 = v => isFinite(v) ? (Math.round(v) + '%') : 'â€”';

const el = s => document.querySelector(s);
const $ = s => Array.from(document.querySelectorAll(s));

let state = {
  prod: { id:'crisol', precio:160, litros:20, uplift:0.5 },
  periodo: 'mes'
};

function setProducto(div){
  $('.prod').forEach(p=>p.classList.remove('active'));
  div.classList.add('active');
  state.prod = {
    id: div.dataset.id,
    precio: Number(div.dataset.precio),
    litros: Number(div.dataset.litros),
    uplift: Number(div.dataset.uplift)
  };
  el('#precioSel').value = state.prod.precio;
  calc();
}

$('#productos .prod').forEach(p=>p.addEventListener('click',()=>setProducto(p)));

['#precioActual','#litrosActual','#baldesSemana','#locales','#precioSel'].forEach(sel=>{
  el(sel).addEventListener('input', calc);
});
el('#periodo').addEventListener('change', e=>{ state.periodo=e.target.value; calc(); });

el('#btnClear').addEventListener('click', ()=>{
  ['#precioActual','#baldesSemana','#locales'].forEach(s=>el(s).value='');
  el('#litrosActual').value = 18;
  setProducto($('#productos .prod')[0]);
  el('#periodo').value='mes'; state.periodo='mes';
  calc();
});

el('#btnPdf').addEventListener('click', ()=>window.print());

function weeksFactor(periodo){
  if(periodo==='semana') return 1;
  if(periodo==='anio') return 52;
  return 4.33; // mes
}

function lblPeriodo(periodo){
  return periodo==='semana' ? '(semana)' : (periodo==='anio' ? '(aÃ±o)' : '(mes)');
}

function calc(){
  const precioActual = Number(el('#precioActual').value);
  const litrosActual  = Number(el('#litrosActual').value || 0);
  const baldesSemana  = Number(el('#baldesSemana').value || 0);
  const locales       = Number(el('#locales').value || 0);

  // producto seleccionado
  const precioSel = Number(el('#precioSel').value || state.prod.precio);
  const litrosSel = state.prod.litros;
  const uplift    = state.prod.uplift;

  const w = weeksFactor(state.periodo);

  // litros que hoy se consumen por semana (por local)
  const litrosSemanaActualPorLocal = baldesSemana * litrosActual;
  // para el mismo volumen de fritura, baldes necesarios del especializado (por local)
  const baldesSemanaSelPorLocal = litrosSemanaActualPorLocal / (litrosSel * (1+uplift) || 1);

  // Gasto actual vs. seleccionado
  const gastoActual = precioActual * baldesSemana * w * locales;
  const gastoSel    = precioSel    * baldesSemanaSelPorLocal * w * locales;

  const ahorro = Math.max(0, gastoActual - gastoSel);
  const pct = gastoActual>0 ? (ahorro/gastoActual*100) : 0;

  // Precio mÃ¡ximo por balde para no gastar mÃ¡s:
  const baldesPeriodoSelTotal = baldesSemanaSelPorLocal * w * locales || 1;
  const tope = gastoActual>0 ? (gastoActual / baldesPeriodoSelTotal) : NaN;

  // puntos de lealtad si Crisol
  if(state.prod.id==='crisol'){
    const puntos = Math.floor(gastoSel/10);
    el('#lealtad').style.display = 'block';
    el('#txtLealtad').textContent = `Acumulas ${puntos.toLocaleString('es-PE')} puntos (1 punto por cada S/10 gastados en Crisol Fritura Intensa).`;
  }else{
    el('#lealtad').style.display = 'none';
  }

  // Notas
  const baldesGratisMes = gastoSel>0 ? (ahorro / precioSel) : 0;
  el('#notaBaldes').textContent = isFinite(baldesGratisMes) ? `â‰ˆ ${baldesGratisMes.toFixed(2)} baldes gratis por ${state.periodo}` : 'â€”';

  // Salidas
  el('#ahorro').textContent = fmtSoles(ahorro);
  el('#gastoActual').textContent = fmtSoles(gastoActual);
  el('#gastoSel').textContent    = fmtSoles(gastoSel);
  el('#progreso').textContent    = `Ahorro del ${fmtPct0(pct)} vs. situaciÃ³n actual`;
  el('#topePrecio').textContent  = fmtSoles(tope);

  // Etiquetas segÃºn periodo
  el('#lblGastoActual').textContent = `Gasto actual ${lblPeriodo(state.periodo)}`;
  el('#lblGastoSel').textContent    = `Gasto con aceite especializado ${lblPeriodo(state.periodo)}`;
}

// init
calc();
</script>
</body>
</html>
